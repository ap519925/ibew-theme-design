/**
 * @file
 * IBEW Mobile Responsive Fixes
 * Fixes viewport scaling and layout issues on mobile devices
 */

/* ========================================
   GLOBAL MOBILE FIXES
   ======================================== */

/* Prevent horizontal overflow */
html,
body {
    overflow-x: hidden;
    max-width: 100vw;
}

* {
    box-sizing: border-box;
}

/* Mobile Container Fixes */
@media (max-width: 768px) {

    .container,
    .ibew-shell,
    .max-w-7xl,
    .max-w-5xl,
    .max-w-3xl {
        width: 100%;
        max-width: 100%;
        padding-left: 15px;
        padding-right: 15px;
        overflow-x: hidden;
    }

    /* Header top bar - hide items that don't fit on mobile */
    .ibew-header__top {
        flex-wrap: wrap;
        padding: 0.5rem 1rem;
        gap: 0.5rem;
    }

    .ibew-header__top-item {
        font-size: 0.75rem;
    }

    /* Hide phone on very small screens */
    @media (max-width: 480px) {
        .ibew-header__top-item:first-child {
            display: none;
        }
    }

    /* Main nav - ensure it doesn't overflow */
    .ibew-navbar {
        padding: 0.5rem 1rem;
        flex-wrap: nowrap;
    }

    .ibew-navbar__brand {
        flex-shrink: 1;
        min-width: 0;
    }

    .ibew-navbar__brand img {
        max-height: 40px;
        width: auto;
    }

    .ibew-navbar__brand-text {
        font-size: 1rem;
    }

    .ibew-navbar__brand-text span {
        font-size: 0.65rem;
    }

    /* Hero sections */
    .ibew-hero,
    [class*="hero"] {
        padding: 3rem 1rem;
    }

    .ibew-hero h1,
    [class*="hero"] h1 {
        font-size: 2rem;
        line-height: 1.2;
    }

    .ibew-hero p,
    [class*="hero"] p {
        font-size: 1rem;
    }

    /* Footer mobile fixes */
    .ibew-footer__container {
        grid-template-columns: 1fr !important;
        gap: 2rem;
        padding: 0 1rem;
    }

    .ibew-footer__brand-col {
        text-align: center;
    }

    .ibew-footer__brand-logo img {
        max-width: 80px;
    }

    /* CTA Cards */
    .ibew-cta-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
    }

    .ibew-cta-card {
        padding: 1.5rem;
    }

    /* Contact page */
    .ibew-contact-wrapper {
        grid-template-columns: 1fr !important;
        gap: 2rem;
    }

    /* Events calendar */
    .fc .fc-toolbar {
        flex-direction: column;
        gap: 0.5rem;
    }

    .fc .fc-toolbar-title {
        font-size: 1.2rem;
    }

    /* News grid */
    .ibew-news-grid {
        grid-template-columns: 1fr !important;
    }

    /* Buttons */
    .ibew-btn-lg {
        width: 100%;
        display: block;
        text-align: center;
    }

    /* Tables */
    table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Images */
    img {
        max-width: 100%;
        height: auto;
    }

    /* Row and column fixes */
    .row {
        margin-left: 0;
        margin-right: 0;
    }

    [class*="col-"] {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }

    /* Text size adjustments */
    h1 {
        font-size: 1.75rem;
    }

    h2 {
        font-size: 1.5rem;
    }

    h3 {
        font-size: 1.25rem;
    }
}

/* Very small screens */
@media (max-width: 480px) {
    .ibew-header__top {
        justify-content: center;
        text-align: center;
    }

    .ibew-header__top-item:not(:last-child) {
        display: none;
    }

    .ibew-navbar__brand-text {
        font-size: 0.9rem;
    }

    .ibew-navbar__brand-text span {
        display: none;
    }

    .ibew-hero h1,
    [class*="hero"] h1 {
        font-size: 1.5rem;
    }

    /* Footer simplification */
    .ibew-footer__col:not(:first-child) h4 {
        margin-top: 1rem;
    }
}

/* Prevent fixed elements from causing horizontal scroll */
.fixed,
[style*="position: fixed"],
[style*="position:fixed"] {
    max-width: 100vw;
}

/* Safe area insets for iOS */
@supports (padding: max(0px)) {
    body {
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
    }
}