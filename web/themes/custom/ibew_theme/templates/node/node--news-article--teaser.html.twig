<article class="card ibew-card h-100 p-0 overflow-hidden d-flex flex-column border-0 shadow-sm rounded-4">
  {% set link_url = url %}
  {% set link_target = '_self' %}
  {# Tag from Category or Default #}
  {% set source_label = content.field_news_category|render|striptags|trim ? content.field_news_category|render|striptags|trim : 'News' %}

  <div class="card-img-top position-relative bg-secondary w-100 overflow-hidden illustration-container">
    {% if content.field_image %}
       {{ content.field_image }}
    {% endif %}
    <a href="{{ link_url }}" class="stretched-link visually-hidden" aria-label="Read {{ label }}"></a>
  </div>

  <div class="card-body p-4 d-flex flex-column flex-grow-1 bg-white">
    <div class="d-flex align-items-center flex-wrap gap-2 mb-2 small">
       <span class="badge bg-primary text-white rounded-1 px-2 py-1 fw-bold text-uppercase" style="font-size: 0.7rem;">
          {{ source_label }}
       </span>
       <span class="text-muted fw-bold">&bull;</span>
       {# Usage of date_published or created #}
       <span class="text-muted fw-bold">
         {% if content.field_date_published|render|trim %}
            {{ content.field_date_published }}
         {% else %}
            {{ node.created.value|date('F j, Y') }}
         {% endif %}
       </span>
    </div>

    <h3 class="card-title fw-bold mb-3 font-oswald text-uppercase text-dark lh-base">
      {{ label }}
    </h3>

    {% if content.body %}
      <div class="card-text text-muted opacity-75 small mb-4 flex-grow-1">
        {{ content.body|render|striptags|trim|slice(0, 120) ~ '...' }}
      </div>
    {% endif %}

    <div class="mt-auto">
      <a href="{{ link_url }}" class="fw-bold text-decoration-none text-primary d-inline-flex align-items-center gap-1">
        Read More <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
      </a>
    </div>
  </div>
</article>
<style>
/* Local override to ensure image fills the constrained container */
.illustration-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
