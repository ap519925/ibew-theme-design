{#
/**
 * @file
 * Teaser template for Events in Timeline Format.
 */
#}
<div class="ibew-event-row position-relative ps-5 py-4 border-start border-2 border-light-subtle">
  {# Timeline Dot #}
  <div class="position-absolute translate-middle-x rounded-circle bg-primary border border-4 border-white shadow-sm d-flex align-items-center justify-content-center" style="width: 48px; height: 48px; left: 0; top: 2rem;">
     <div class="text-white fw-bold small lh-1 text-center">
        <span class="d-block" style="font-size: 0.7rem;">{{ content.field_event_date[0]['#text']|date('M') }}</span>
        <span class="d-block h6 mb-0">{{ content.field_event_date[0]['#text']|date('d') }}</span>
     </div>
  </div>

  <div class="card border-0 shadow-sm rounded-4 overflow-hidden h-100">
     <div class="row g-0 h-100">
        {# Optional Image Left #}
        {% if content.field_event_image %}
           <div class="col-md-4 d-none d-md-block">
              <div class="h-100 bg-cover bg-center" style="background-image: url('{{ file_url(content.field_event_image[0]['#item'].entity.uri.value) }}'); min-height: 160px;"></div>
           </div>
        {% endif %}
        
        <div class="col">
           <div class="card-body p-4 d-flex flex-column h-100">
               <div class="d-flex justify-content-between align-items-start mb-2">
                 <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill px-3 py-1 fw-bold font-monospace small">
                    {{ content.field_event_time[0]['#markup']|default('6:00 PM') }}
                 </span>
                 {# Location Icon if needed #}
               </div>

               <h3 class="h5 fw-bold font-oswald mb-3">
                  <a href="{{ url }}" class="text-reset text-decoration-none stretched-link">{{ label }}</a>
               </h3>
               
               <p class="card-text text-muted small flex-grow-1 mb-0">
                  {{ content.field_event_description|render|striptags|slice(0, 120) ~ '...' }}
               </p>
           </div>
        </div>
        
         <div class="col-auto d-flex align-items-center pe-4 d-none d-sm-flex">
             <div class="btn btn-icon btn-light rounded-circle shadow-sm text-primary">
               <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
             </div>
         </div>
     </div>
  </div>
</div>
