{#
/**
 * @file
 * Theme override for the Main Navigation menu.
 */
#}
{% import _self as menus %}

{#
  We use a macro for recursive menus, though the IBEW top nav 
  is usually flat.
#}
{% macro menu_links(items, attributes, menu_level) %}
  {% import _self as menus %}
  {% if items %}
    {% if menu_level == 0 %}
      <nav class="ibew-nav__links">
    {% else %}
      <div class="ibew-nav__dropdown"> {# Placeholder for future nested nav #}
    {% endif %}

    {% for item in items %}
      <a href="{{ item.url }}" {{ item.attributes }}>{{ item.title }}</a>
      {# If we needed children:
         {% if item.below %}
           {{ menus.menu_links(item.below, attributes, menu_level + 1) }}
         {% endif %}
      #}
    {% endfor %}

    {% if menu_level == 0 %}
      </nav>
    {% else %}
      </div>
    {% endif %}
  {% endif %}
{% endmacro %}

{{ menus.menu_links(items, attributes, 0) }}
