{#
/**
 * @file
 * Front page layout that renders homepage regions with IBEW styling.
 */
#}
<a id="main-content" tabindex="-1"></a>

<div class="ibew-page bg-gray-100 text-gray-900 min-h-screen">
	{% include '@ibew_theme/includes/header.html.twig' %}

	<style>
		/* EMERGENCY OVERRIDE FOR HERO TRANSPARENCY */
		.ibew-region--hero-content,
		.ibew-region--hero-content .block,
		.ibew-region--hero-content .ibew-card,
		.ibew-region--hero-content .card,
		.ibew-region--hero-content .field--name-body,
		html.dark .ibew-region--hero-content .ibew-card,
		html.dark .ibew-region--hero-content .card {
			background: transparent !important;
			background-color: transparent !important;
			border: none !important;
			box-shadow: none !important;
		}

		.ibew-region--hero-content h1,
		.ibew-region--hero-content h2,
		.ibew-region--hero-content p {
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
		}
	</style>

	<section
		class="ibew-hero p-0 relative h-screen">
		{# Background Slider (Z-0) #}
		<div class="absolute inset-0 w-full h-full z-0">
			{% if page.homepage_hero %}
				{{ page.homepage_hero }}
			{% endif %}
		</div>
		{# Global Overlay (Z-10) #}
		<div class="absolute inset-0 z-10 pointer-events-none" style="background-color: rgba(0, 0, 0, 0.6);"></div>


		{# Content Overlay (Z-20) #}
		{% if page.homepage_hero_content %}
			<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 20; display: flex; align-items: center; justify-content: center; text-align: center; pointer-events: none;">
				<div class="container" style="pointer-events: auto;">
					<div class="ibew-region ibew-region--hero-content w-100">
						{{ page.homepage_hero_content }}
					</div>
				</div>
			</div>
		{% endif %}
	</section>

	<main>
		{# Check if the current node has Canvas content populated #}
		{% set has_canvas = node.field_content_canvas and not node.field_content_canvas.isEmpty() %}
		{# --- Default Mode: Hardcoded Theme Sections --- #}

		{# Sections in correct order: About second #}
			<div class="sections-wrapper"> {# Welcome Section moved to Hero Overlay #}

			{# 2. About Section #}
			{# 2. Welcome / About Section (Static) #}
				<section id="about" class="ibew-section text-white w-100" style="background-color: #1e3a5f; padding-top: 8rem; padding-bottom: 8rem;"> <div class="container-fluid" style="max-width: 1400px;">
					<div
						class="row align-items-center gx-5">
						{# Left Column: Image (Wider) #}
						<div class="col-lg-7 mb-5 mb-lg-0">
							<div
								class="position-relative rounded-4 overflow-hidden shadow-2xl h-100">
								{# Using the painting image #}
								<img
								src="/themes/custom/ibew_theme/images/ibew-building-painting.jpg" alt="IBEW Local 90 Building Painting" class="img-fluid w-100 object-cover" style="height: 600px; min-height: 500px; object-fit: cover;">

								{# Optional overlay gradient #}
								<div class="absolute inset-0 bg-gradient-to-t from-gray-900/40 to-transparent pointer-events-none"></div>
							</div>
						</div>

						{# Right Column: Text Content #}
						<div class="col-lg-5 text-start ps-lg-5">
							<h2 class="display-5 fw-bold font-oswald text-uppercase text-white mb-4">WELCOME TO IBEW 90!</h2>

							<div class="text-gray-200 space-y-4 text-lg font-light leading-relaxed">
								<p>
									Get the most productive, safest and skilled electricians on your projects. It is more important to you the business partner, owner and end user than ever before. We offer professionalism, a positive construction experience. Safer projects bring smaller insurance premiums. All your employees will be OSHA 10 certified workers.
								</p>
								<p>
									We can man up any size project while we move toward our goal of a drug free workforce. How many electrical craftsmen do you need? We'll get them there for you.
								</p>
							</div>

							<a href="/about" class="btn btn-warning btn-lg mt-5 text-uppercase fw-bold px-5 py-3 shadow-lg font-oswald tracking-wide" style="min-width: 250px; background-color: #f7c948; border: none; color: #1e3a5f;">
								Learn More About Us
							</a>
						</div>
					</div>
				</div>
			</section>
		</div>

		{# 2. Combined News & Events Section #}
		{% if embedded_news_view or embedded_events_view %}
			<section
				id="news-events" class="ibew-section py-24 bg-gray-50">
				{# We keep a container for this wrapper because the grid itself is defined HERE, not in a block #}
				<div class="container">
					{# Replaced Bootstrap Row with Tailwind Grid for better layout control #}
					{# Restoring News & Events with Bootstrap Grid with tight horizontal spacing #}
					{# USER REQUEST: Add small margin between columns (gx-1 was too tight, gx-3 adds 1rem gap) #}
						<div
						class="row gx-3"> {# Left Column: Recent News (Col-9) #}
						<div class="col-lg-8">
							<div class="d-flex justify-content-between align-items-end mb-4">
								<h2 class="display-6 fw-bold font-oswald text-uppercase text-dark mb-0">Latest News</h2>
							</div>

							<div class="ibew-region ibew-region--news">
								{{ embedded_news_view }}
							</div>
						</div>

						{# Right Column: Events & Training (Col-3) #}
						<div class="col-lg-4">
							<div class="d-flex justify-content-between align-items-end mb-4">
								<h2 class="display-6 fw-bold font-oswald text-uppercase text-dark mb-0">Events & Training</h2>
								<a href="/events" class="text-decoration-none fw-bold small text-primary">Calendar &rarr;</a>
							</div>

							{# Optional "For Contractors" Block #}
							<div class="ibew-card bg-primary-subtle border-0 p-4 mb-4 rounded-4 position-relative overflow-hidden">
								<div class="position-relative z-10">
									<div class="d-flex align-items-center gap-3 mb-3">
										<div class="bg-primary text-white rounded p-2">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewbox="0 0 16 16"><path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/></svg>
										</div>
										<h3 class="h5 fw-bold font-oswald mb-0 text-dark">FOR CONTRACTORS</h3>
									</div>
									<p class="small text-muted mb-4">Connect with skilled IBEW professionals and submit your project requirements.</p>

									<div class="d-grid gap-2">
										<a href="/contractors" class="btn btn-light shadow-sm text-start fw-bold d-flex justify-content-between align-items-center">
											Find IBEW Contractors
											<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
										</a>
										<a href="/projects" class="btn btn-light shadow-sm text-start fw-bold d-flex justify-content-between align-items-center">
											Submit Project Request
											<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
										</a>
									</div>
								</div>
								<!-- Decor -->
								<div class="position-absolute top-0 end-0 rounded-circle bg-white opacity-25" style="width: 150px; height: 150px; margin-top: -50px; margin-right: -50px;"></div>
							</div>

							<div class="ibew-region ibew-region--events">
								{{ embedded_events_view }}
							</div>
						</div>

					</div>
				</div>
			</section>
		{% endif %}

		{# 4. Stats / Members Section #}
		{% if page.homepage_stats or page.homepage_members %}
			<section
				id="stats" class="ibew-section py-20 bg-gray-900 text-white relative overflow-hidden w-100">
				{# Full width region, no shell #}
				<div class="ibew-region ibew-region--stats w-100">
					{{ page.homepage_stats }}
					{# {{ page.homepage_members }} #}
				</div>
				{# Background accent for stats #}
				<div class="absolute inset-0 bg-blue-900/20 pointer-events-none"></div>
			</section>
		{% endif %}

		{# 5. Contact / CTA - REMOVED PER REQUEST #}
		{# 
																																										      {% if page.homepage_contact %}
																																										            <section id="contact" class="ibew-section py-16 bg-gray-50 w-100">
																																										              <div class="ibew-region ibew-region--contact w-100">
																																										                  {{ page.homepage_contact }}
																																										              </div>
																																										            </section>
																																										          {% endif %}
																																										          #}

		{# --- New CTA Section --- #}
		{# --- New CTA Section (Parallax) --- #}
			<section
			class="ibew-parallax-hero ibew-cta-section w-100 relative py-20 overflow-hidden text-white" style="margin-bottom: 0 !important;"> {# Parallax Background #}
			<div class="ibew-parallax-bg" style="background-image: url('/themes/custom/ibew_theme/images/cta-background.jpg');"></div>

			{# Overlay #}
			<div class="ibew-parallax-overlay" style="background: linear-gradient(135deg, rgba(30, 58, 95, 0.6) 0%, rgba(45, 74, 111, 0.5) 100%);"></div>

			<div class="container relative z-10 text-center">
				<h2 class="display-4 fw-bold font-oswald text-uppercase mb-5 text-shadow-md">
					READY TO BUILD YOUR FUTURE?
				</h2>

				<div
					class="ibew-cta-grid grid grid-cols-1 md:grid-cols-3 gap-6">
					<!-- Prospective Members -->
					<div class="ibew-cta-card bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl hover:bg-white/20 transition-all duration-300">
						<h3 class="font-oswald text-2xl font-bold mb-3 text-white uppercase text-shadow-sm">Prospective Members</h3>
						<p class="text-white/90 mb-6 min-h-[60px] font-light">Start your journey in the electrical trade with world-class training and support</p>
						<a href="/join" class="btn w-full py-3 fw-bold text-uppercase font-oswald tracking-wide shadow-lg hover:shadow-xl transition-all" style="background-color: #cc9c42; color: #1e3a5f; border: none;">Become a Member</a>
					</div>

					<!-- Contractors -->
					<div class="ibew-cta-card bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl hover:bg-white/20 transition-all duration-300">
						<h3 class="font-oswald text-2xl font-bold mb-3 text-white uppercase text-shadow-sm">Contractors</h3>
						<p class="text-white/90 mb-6 min-h-[60px] font-light">Find skilled IBEW electricians for your next project today</p>
						<a href="/contractors" class="btn w-full py-3 fw-bold text-uppercase font-oswald tracking-wide shadow-lg hover:shadow-xl transition-all" style="background-color: #465a8c; color: white; border: none;">Find Contractors</a>
					</div>

					<!-- Training -->
					<div class="ibew-cta-card bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl hover:bg-white/20 transition-all duration-300">
						<h3 class="font-oswald text-2xl font-bold mb-3 text-white uppercase text-shadow-sm">Training</h3>
						<p class="text-white/90 mb-6 min-h-[60px] font-light">Advance your skills with comprehensive apprenticeship programs</p>
						<a href="/training" class="btn w-full py-3 fw-bold text-uppercase font-oswald tracking-wide shadow-lg hover:shadow-xl transition-all" style="background-color: #9e373f; color: white; border: none;">Learn more</a>
					</div>
				</div>
			</div>
		</section>
	</main>

	{# --- Footer (Reusable Include) --- #}
	{% include '@ibew_theme/includes/footer.html.twig' %}</div>
